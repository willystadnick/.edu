6. TECNOLOGIAS PARA IMPLEMENTAÇÃO DE REDES
Para facilitar o processo de padronização e obter interconectividade entre máquinas de diferentes fabricantes, a Organização Internacional de Normatização (ISO - International Standards Organization) aprovou, no início dos anos 80, um modelo dereferência para permitir a comunicação entre máquinas heterogêneas, definindo as diretivas genéricas para construção de redes de computadores que independem da tecnologia de implementação. Esse modelo denominado OSI (Open Systems Interconnection) serve de base para qualquer tipo de rede, seja de curta, média ou longa distância. A construção das redes envolve a seleção e integração de várias tecnologias, cada uma destinada a atender requisitos específicos de custo e desempenho. Vários organismos normalizadores se empenharam para elaboração de padrões de tecnologia que implementam funções de uma ou mais camadas do modelo OSI. O processo de elaboração de padrões é bastante evolutivo envolvendo a participação ativa de fabricantes, através do surgimento de novas tecnologias. A ISO International Organization for Standardization é a principal organização no que se refere a elaboração de padrões de comunicação de alcance mundial.

6.1. ARQUITETURAS DE REDES
Conceito: Conjunto de tecnologias (camadas e protocolos) que compõem a infraestrutura completa para construção de uma rede de computadores. Comunicação entre 2 redes: nenhum dado é transferido diretamente da camada n em uma máquina para outra máquina. Em vez disso, cada camada passa os dados e informações de controle para a camada imediatamente abaixo, até que o nível mais baixo seja alcançado. Abaixo do nível 1 esta o meio físico de comunicação, através do qual a comunicação de fato ocorre.
Fluxo de Informações entre duas redes
Processo de comunicação para o transporte de uma mensagem ‘m’ para uma outra rede. A comunicação virtual se dá através das linhas pontilhas e a comunicação física através das linhas sólidas da figura abaixo.

6.2. ARQUITETURA DO MODELO DE REFERÊNCIA OSI
O modelo OSI define uma arquitetura genérica com 7 camadas. Sua elaboração representou um esforço na tentativa de padronização e direcionamento do desenvolvimento de novas tecnologias para implementação de redes de computadores. Entretanto, nem todas as soluções existentes no mercado seguem o modelo OSI. Arquiteturas alternativas têm sido adotadas para construções de redes no mundo todo. Algumas soluções proprietárias, como a SNA, se impuseram como resultado do sucesso de um grande fabricante. Soluções não proprietárias, como TCP/IP, surgiram como resultado de esforços de pesquisa, incluindo grande participação do mundo acadêmico. SNA: Systems Network Architecture. Conjunto de produtos de comunicação proprietários da IBM. O SNA inspirou a criação do modelo OSI, guardando muitas similaridades com o padrão proposto pela ISO. A SNA é uma das arquiteturas dominantes no mercado de computadores da atualidade, e é suportada por uma ampla gama de fornecedores.
TCP/IP: Abreviatura de Transmission Control Protocol/Internet Protocol. A arquitetura TCP/IP define um modelo com menos camadas que o modelo OSI. As camadas de enlace de dados e física não são especificadas na arquitetura TCP/IP, podendo ser implementadas através de soluções propostas em outras arquiteturas. A arquitetura TCP/IP é muito difundida no mundo acadêmico e comercial, superando em popularidade soluções inteiramente compatíveis com o modelo OSI.

6.2.1 Nível 1: físico
O nível físico tem a função de transmitir uma seqüência de bits através de um canal de comunicação. As funções típicas dos protocolos deste nível são para fazer com que um bit "1" transmitido por uma estação seja entendido pelo receptor como bit "1" e não como bit "0". Assim, este nível trabalha basicamente com as características mecânicas e elétricas do meio físico, como por exemplo:
. Número de volts que devem representar os níveis lógicos "1" e "0";
. Velocidade máxima da transmissão;
. Transmissão simplex, half-duplex ou full-duplex;
. Número de pinos do conector e utilidade de cada um;
. Diâmetro dos condutores.
Os protocolos deste nível são os que realizam a codificação/decodificação de símbolos e caracteres em sinais elétricos lançados no meio físico, que fica logo abaixo dessa camada. Exemplos de protocolos que se enquadram no nível físico do modelo OSI são: RS-232C, X.21 (para redes com transmissão digital), X.21bis (para redes com transmissão analógica), codificação Manchester, codificação Manchester Diferencial, SONET (Synchronous Optical Network), e assim por diante.

6.2.2 Nível 2: enlace
O principal objetivo do nível de enlace é receber/transmitir uma seqüência de bits do/para o nível físico e transformá-los em uma linha que esteja livre de erros de transmissão, a fim de que essa informação seja utilizada pelo nível de rede. O nível de enlace está dividido em dois subníveis: o superior é o controle lógico do enlace (LLC - Logical Link Control), e o inferior é o controle de acesso ao meio (MAC - Medium Access Control), como mostra a figura a seguir.
Subnível LLC
O protocolo LLC pode ser usado sobre todos os protocolos IEEE do subnível MAC, como por exemplo o IEEE 802.3 (Ethernet), IEEE 802.4 (Token Bus) e IEEE 802.5 (Token Ring). Ele oculta as diferenças entre os protocolos do subnível MAC. Usa-se o LLC quando é necessário controle de fluxo ou comunicação confiável. Ele oferece três opções de transmissão: serviço de datagrama não-confiável, serviço de datagrama com confirmação e serviço orientado à conexão confiável. O LLC consegue isso dividindo a mensagem a transmitir em quadros com algumas centenas de bytes de dados e alguns bytes de controle (como CRC, por exemplo). Enquanto transmite seqüencialmente os quadros de dados, o transmissor deve tratar os quadros de reconhecimento (ACK), que são enviados pelo receptor a fim de indicar se a transmissão ocorreu com ou sem erros. Caso algum quadro não tenha chegado corretamente, o transmissor deve retransmiti-lo, e o receptor deve descartar o quadro errado. Um ruído mais forte na linha pode destruir completamente um quadro. Nesse caso, os protocolos da camada de enlace devem retransmitir essa informação. Entretanto, múltiplas retransmissões do mesmo quadro podem fazer com que existam quadros duplicados. Um quadro duplicado pode acontecer se, por exemplo, o ACK do receptor foi destruído. É tarefa do LLC tratar e resolver problemas causados por quadros danificados, perdidos e duplicados. Existem várias classes de serviço neste nível, cada uma com seu fator de qualidade. Outra função do nível de enlace LLC é controle de fluxo, ou seja, o controle de um transmissor rápido para que não inunde de dados um receptor mais lento. Algum mecanismo regulador de tráfego deve ser empregado para deixar o transmissor saber quanto espaço em buffer tem no receptor naquele momento. Freqüentemente, o controle de fluxo e de erro é integrado, simplificando o protocolo. Para entender quando é necessário controle de fluxo, suponha um transmissor que pode enviar dados a 1Mbps, e um receptor que pode receber dados somente a 100Kbps, como mostra a figura a seguir. Evidentemente, algum controle deve haver para que o receptor não seja obrigado a descartar dados. Outra complicação que deve ser tratada em nível de enlace é quando a linha for utilizada para transmitir tráfego em ambas direções (de A para B e de B para A). Normalmente, uma comunicação envolve a transmissão do pacote de dados e o ACK (acknowledge) enviado de volta pela estação receptora, indicando que os dados chegaram sem erros. Entretanto, o problema é que os quadros de ACK competem pelo meio físico da mesma forma que os quadros de dados, prejudicando o desempenho do sistema. Para eliminar esse problema, em alguns protocolos utiliza-se o conceito de piggybacking, onde os bits de ACK que devem ser enviados em resposta ao quadro de dados transmitidos pela estação A vêm junto com o quadro de dados que a estação B quer transmitir para a estação A. Resumindo, as principais funções do nível de enlace são as seguintes:
. Entregar ao nível de rede os dados livres de erros de transmissão;
. Retransmissão de quadros errados;
. Controle de fluxo;
. Tratamento de quadros duplicados, perdidos e danificados.
Subnível MAC
O sub-nível MAC possui alguns protocolos importantes, como o IEEE 802.3 (Ethernet), IEEE 802.4 (Token Bus) e IEEE 802.5 (Token Ring). O protocolo de nível superior pode usar ou não o subnível LLC, dependendo da confiabilidade esperada para esse nível. Em intranets se utiliza TCP/IP sobre MAC direto. Esse subnível fica muito próximo ao nível físico, não existindo confirmações de mensagens (ACK) nem controle de fluxo. Caso a mensagem chegue errada no receptor (detectado através do CRC), ele simplesmente descarta o quadro. As redes baseadas em TCP/IP que utilizam o Ethernet / Token Ring em nível 2 funcionam dessa forma, ou seja, se dá erro num pacote ele é descartado. As confirmações e verificações ficam para o nível mais alto (TCP). Essa é uma boa forma de reduzir overheads na rede, sem repetições e retransmissões a cada nível que a mensagem passa.

6.2.3 Nível 3: rede
O nível de rede tem a função de controlar a operação da rede de um modo geral. O principal aspecto é executar o roteamento dos pacotes entre fonte e destino, principalmente quando existem caminhos diferentes para conectar entre si dois nós da rede. Em redes de longa distância é comum que a mensagem chegue do nó fonte ao nó destino passando por diversos nós intermediários no meio do caminho, e é tarefa do nível de rede escolher o melhor caminho para essa mensagem. A escolha da melhor rota pode ser baseada em tabelas estáticas, que são configuradas na criação da rede e são raramente modificadas, pode também ser determinada no início de cada conversação, ou ser altamente dinâmica, sendo determinada a cada novo pacote, a fim de refletir exatamente a carga da rede naquele instante. Na prática, os roteadores atualizam suas tabelas de roteamento de tempos em tempos (30 segundos, no RIP). Se muitos pacotes estão sendo transmitidos através dos mesmos caminhos, eles vão diminuir o desempenho global da rede, formando gargalos. O controle de tais congestionamentos é tarefa da camada de rede. Normalmente, a transmissão de mensagens em redes de longa distância é cobrada pela central pública que administra o serviço, e a contabilização é feita pela camada de rede, que deve contar o número de pacotes ou bytes que o usuário utilizou a fim de tarifar o sujeito. Resumindo, as principais funções do nível de rede são as seguintes:
. Roteamento dos pacotes entre fonte e destino, mesmo que tenha que passar por diversos nós intermediários durante o percurso;
. Controle de congestionamento;
. Contabilização do número de pacotes ou bytes utilizados pelo usuário, para fins de tarifação;
Com relação às redes broadcast (do tipo Ethernet), onde a informação é escutada por todas outras estações, o roteamento não é necessário dentro da subrede, fazendo com que a camada de rede seja muito simples. Caso não seja tarefa da subrede, o pacote é enviado ao roteador default. Exemplos de protocolos desse nível são o IPX, usado pelo Netware até a versão 5.0, o IP (Internet Protocol), que pertence à família de protocolos TCP/IP, e o PLP (Packet Layer Protocol), referenciado no modelo OSI e utilizado nas redes X.25. A principal diferença entre o protocolo IP e o PLP é que a transmissão de dados no protocolo IP é orientada a datagramas (sem conexão), e no PLP é orientada à conexão (onde um caminho virtual é estabelecido antes de iniciar a comunicação propriamente dita). Uma transmissão orientada a datagrama é menos confiável, pois as mensagens não seguem um caminho pré-determinado entre fonte e destino, podendo tomar caminhos diferentes dependendo da decisão do roteador, que pode escolher diferentes rotas para enviar cada pedaço da mensagem. Assim, nesse tipo de transmissão, não é garantido que a mensagem chegue ao destino na mesma ordem que foi enviada, sendo uma tarefa das camadas superiores a sua remontagem na seqüência correta. Dessa forma, uma mensagem que foi transmitida e segmentada na seqüência 1, 2 e 3, pode chegar ao destino na ordem 2, 3 e 1. Pode-se associar a transmissão orientada à datagrama com o envio de uma mensagem por telegrama via correio. No corpo do telegrama constam todos os dados necessários para o carteiro encontrar o endereço destino, e se forem enviados vários telegramas, não se podem garantir qual deles chegará antes. Na transmissão orientada à conexão, ao contrário, antes de se estabelecer a transmissão de dados propriamente dita, é criada uma rota através da qual todos os pacotes irão trafegar, dessa forma, a correta seqüência dos pacotes é garantida. Pode-se associar a transmissão orientada à conexão com uma ligação telefônica: antes de se estabelecer a comunicação entre origem e destino, é necessário a criação de uma conexão física através de chaves comutadoras da central pública, e, após estabelecida essa conexão, não é mais necessário o reforço do número discado até o término da conversação, onde a conexão é desfeita.

6.2.4 Nível 4: transporte
O nível de transporte inclui funções relacionadas com conexões entre a máquina fonte e máquina destino, segmentando os dados em unidades de tamanho apropriado para utilização pelo nível de rede, seguindo ou não as orientações do nível de sessão. Sob condições normais, o nível de transporte cria uma conexão distinta para cada conexão de transporte requisitada pelo nível superior. Se a conexão de transporte requisitada necessita uma alta taxa de transmissão de dados, este nível pode criar múltiplas conexões de rede, dividindo os dados através da rede para aumentar a velocidade de transmissão, conforme as indicações do nível de sessão. Por outro lado, se é caro manter uma conexão de rede, a camada de transporte pode multiplexar várias conexões de transporte na mesma conexão de rede, a fim de reduzir custos. Em ambos os casos, a camada de transporte deixa essa multiplexação transparente ao nível superior. Existem várias classes de serviço que podem ser oferecidas ao nível superior, e, em última instância, aos usuários da rede. A mais popular é uma comunicação através de um canal ponto a ponto livre de erros, que envia as mensagens seqüencialmente, na mesma ordem que elas foram recebidas. Existem outras classes permitidas, como o envio de mensagens isoladas, sem garantia sobre a ordem da entrega, ou enviar mensagens para múltiplos destinos (mensagens multicast). Atualmente, está se popularizando uma classe de serviço que garante um atraso mínimo na transmissão e a variação máxima do atraso entre pacotes, viabilizando assim aplicações de voz e vídeo através da rede. O nível de transporte é o primeiro que trabalha com conexões lógicas fim a fim, ou seja, um programa na máquina fonte conversa com um programa similar na máquina destino, diferentemente dos níveis anteriores, que conversavam somente com o nó vizinho. Vale ressaltar que a conexão criada pelo nível de transporte é uma conexão lógica, e os dados são transmitidos somente pelo meio físico, através do nível 1 do modelo. Assim, os dados devem descer nível a nível até atingir o nível 1, para então serem transmitidos à máquina remota. Resumindo, as principais funções do nível de transporte são as seguintes:
. Criar conexões para cada requisição vinda do nível superior;
. Multiplexar as várias requisições vindas da camada superior em uma única conexão de rede;
. Dividir as mensagens em tamanhos menores, a fim de que possam ser tratadas pelo nível de rede;
. Estabelecer e terminar conexões através da rede.
Como exemplos de protocolos de nível de transporte da família TCP/IP temos o TCP (Transfer Control Protocol), orientado à conexão e mais confiável, e o UDP (User Datagram Protocol), orientado a datagrama e menos confiável. O protocolo especificado pela ISO nesse nível é o TP4.

6.2.5 Nível 5: sessão
A função do nível 5 do modelo OSI é administrar e sincronizar diálogos entre dois processos de aplicação. Este nível oferece dois tipos principais de diálogo: half-duplex e full-duplex. O nível de sessão fornece mecanismos que permitem estruturar os circuitos oferecidos para o nível de transporte. Neste nível ocorre a quebra de um pacote com o posicionamento de uma marca lógica ao longo do diálogo. Esta marca tem como finalidade identificar os blocos recebidos para que não ocorra uma recarga, quando ocorrer erros na transmissão. Uma sessão permite transporte de dados de uma maneira mais refinada que o nível de transporte em determinadas aplicações. Uma sessão pode ser aberta entre duas estações a fim de permitir a um usuário se logar em um sistema remoto ou transferir um arquivo entre essas estações. Os protocolos desse nível tratam de sincronizações (checkpoints) na transferência de arquivos. Um exemplo de protocolo que se enquadra neste nível é o RPC (Remote Procedure Call).

6.2.6 Nível 6: apresentação
A função do nível 6 é assegurar que a informação seja transmitida de tal forma que possa ser entendida e usada pelo receptor. Dessa forma, este nível pode modificar a sintaxe da mensagem, mas preservando sua semântica. Por exemplo, uma aplicação pode gerar uma mensagem em ASCII mesmo que a estação interlocutora utilize outra forma de codificação (como EBCDIC). A tradução entre os dois formatos é feita neste nível. O nível de apresentação também é responsável por outros aspectos da representação dos dados, como criptografia e compressão de dados.

6.2.7 Nível 7: aplicação
O sétimo nível, o de aplicação, fornece ao usuário uma interface que permite acesso a diversos serviços de aplicação, convertendo as diferenças entre diferentes fabricantes para um denominador comum. Por exemplo, em uma transferência de arquivos entre máquinas de diferentes fabricantes, pode haver convenções de nomes diferentes (DOS tem uma limitação de somente 8 caracteres para o nome de arquivo, UNIX não), formas diferentes de representar as linhas, e assim por diante. Transferir um arquivo entre os dois sistemas requer uma forma de trabalhar com essas incompatibilidades, e essa é a função do nível de aplicação. O nível de aplicação sem dúvida nenhuma é o nível que possui o maior número de protocolos existentes, devido ao fato de estar mais perto do usuário, e os usuários possuírem necessidades diferentes. Algumas aplicações deste nível são transferência de arquivos, correio eletrônico e terminais virtuais, entre outras. Exemplos de protocolos deste nível são o NFS (Network File System), o X.400, o SMTP (Simple Mail Transfer Protocol), base de dados distribuída, telnet, FTP (File Transfer Protocol), SNMP (Simple Network Management Protocol), CMIP (Common Management Information Protocol), X.500 e assim por diante.

7. ARQUITETURA TCP/IP
A arquitetura TCP/IP é um dos modelos de software de rede mais populares da atualidade. Deve-se observar que o termo consagrado TCP/IP refere-se a apenas 2 protocolos de uma ampla família de protocolos. Um nome mais apropriado para o software de rede baseado nos protocolos TCP/IP seria conjunto de protocolos internet (Internet Protocol Suite). Esses protocolos são não-proprietários e constituem a base para construção da rede mundial Internet, o que motivou sua adoção também em redes locais e redes corporativas.
Conceito: A arquitetura TCP/IP apresenta um modelo de software de rede em camadas, similar ao modelo OSI (figura 26). A arquitetura TCP/IP refere-se a uma ampla família de protocolos, que suportam todas as funções necessárias para implementar tanto redes locais (LAN) quanto redes geograficamente distribuídas (WAN). Os protocolos da arquitetura TCP/IP são organizados num modelo com menos camadas que o modelo OSI, o que contribuiu para o seu grande sucesso no mundo comercial e acadêmico.
TCP/IP: Abreviatura de Transmission Control Protocol/Internet Protocol. internet: Conjunto de redes interligadas, formando uma rede geograficamente distribuída. 
Rede mundial Internet: rede pública geograficamente distribuída, de alcance mundial, montada segundo a arquitetura TCP/IP.
Gateway internet: Também chamado de roteador internet. Dispositivo que conecta duas ou mais redes dentro de uma internet.
Não-proprietários: termo utilizado para indicar que os direitos de utilização de uma tecnologia não pertencem a nenhum fabricante específico. Os protocolos TCP/IP não são definidos por organismos normalizadores, sendo considerados por isso padrões de facto. (Quando os padrões são definidos por uma instituição legalmente constituída para elaboração de padrões, como a ISO, o padrão é dito de jure).

7.1. CAMADA DE INTERFACE DE REDE
A arquitetura TCP/IP descreve apenas o comportamento das camadas superiores do software de rede, a partir da camada de rede. Não existe nenhuma restrição quanto à tecnologia utilizada aos níveis de enlace de dados e físico. A arquitetura TCP/IP não impõe nenhuma restrição quanto à implementação dos níveis de enlace de dados e físico das redes que interliga. A função desses níveis pode ser executada através de qualquer tecnologia para implementação de redes locais, como Ethernet ou Token Ring.
Interface de Rede: A integração da arquitetura TCP/IP com as camadas inferiores se faz por meio da interface de rede, responsável por encapsular os datagramas IP nos quadros da camada de enlace de dados. A camada de interface de rede define os padrões de transmissão de informações através do meio físico. Esta intimamente relacionada ao hardware e a maioria dos protocolos desta camada são implementadas pelo device drives da placa de rede. Os datagramas recebidos da camada de rede são convertidos em sinal elétrico para serem inseridos no meio físico de acordo com o tipo de rede [Quadro 1].
Tipo de Rede Protocolo: Redes WAN ATM, FDDI, Frame Relay e X.25 - Redes LAN Ethernet, Fast Ethernet, Token Ring e FDDI - Acesso Discado PPP e SLIP

7.2. CAMADA DE REDE
As funções da camada de rede são executadas principalmente pelo protocolo IP (Internet Protocol). Sua função é definir a rota dos datagramas e encaminhá-los através dos roteadores internet até seu destino final. O protocolo IP oferece um serviço de comunicação não orientado a conexão (datagrama). Sua função é definir a rota dos datagramas e encaminhá-los até seu destino final. O protocolo IP associa a cada estação um endereço IP, que permite identificar uma estação de maneira única, mesmo com várias redes interconectadas. As funções do protocolo IP são complementadas pelo protocolo ICMP.
TERMOS:
* Endereço IP: número de 32 bits utilizado para identificar as estações numa arquitetura TCP/IP. Cada endereço IP é único entre todas as estações conectadas na internet.
* Datagrama: Nome da unidade de dados do protocolo de rede não orientado a conexão.
* ICMP: "Internet control message protocol". Protocolo de rede muito simples, complementar ao protocolo IP, usado para trocar mensagens de erro e descobrir informações sobre a rede. O ICMP é destinado principalmente para uso interno do software TCP/IP, e não para fornecer serviços ao nível de usuário.
* Protocolos são basicamente à parte do sistema operacional da rede encarregada de ditar as normas para a comunicação entre os dispositivos. Vários são os tipos de protocolos, entre os mais utilizados estão:
. TCP/IP - Transfer Control Protocol/Internet Protocol: Ele foi desenvolvido para ser um protocolo roteável, e serve como padrão para redes de longa distância (WAN’s) e para acesso a internet (como foi visto anteriormente).
. IPX/SPX - Internet Packet Exchange/Sequence Packet Exchange: Ele foi desenvolvido para suportar redes NetWare, e suporta redes de tamanho pequeno e médio e também tem a capacidade básica de roteamento.
. NETBEUI - Network Basic End User Interface: Ele suporta pequenas LAN’s é rápido e simples. Porém, tem uma estrutura arquitetônica inerente que limita sua eficiência à medida que a rede se expande. Selecione o IPX/SPX durante a instalação do Windows, ele é simples de definir e oferece um desempenho melhor do que o NetBeui. Ele também deverá ser instalado caso na rede haja a necessidade de comunicação com uma rede NetWare. O protocolo NetBeui apenas deverá ser instalado caso haja a necessidade de comunicação com redes antigas (LAN manager). Selecione TCP/IP se você necessita imediatamente estabelecer uma comunicação com a internet ou intranet. Você irá precisar definir parâmetros de provedor, IP etc.

7.2.1 ENDEREÇOS IP
Quando instalar uma rede, você terá a opção de instalar qualquer um ou todos esses transportes, instalar protocolos sem necessidade poderá deixar o equipamento mais lento nas comunicações em rede.
Conceito: Número de 32 bits utilizado para identificar as estações numa arquitetura TCP/IP. Cada endereço IP é único entre todas as estações conectadas numa internet. Os endereços IPs são números de 32 bits, representados usualmente numa notação decimal pontuada. Cada endereço IP é composto de duas partes, um identificador de rede e um identificador do host.

7.2.1.1. Classes de endereçamento
O número de bits utilizado pelo identificador da rede e pelo identificador de host depende da classe de endereçamento utilizada. São definidas 5 classes de endereçamento:

7.2.1.2 Endereços IP especiais
Alguns endereços IP possuem significados especiais, e não podem ser atribuídos a nenhuma estação. Os endereços especiais estão resumidos na tabela a seguir:
TERMOS
* loopback: Enviar para si mesmo. Os datagramas com endereço IP 127.x.x.x não são enviados para rede. Eles são tratados localmente pela própria estação como datagramas recebidos. Essa função é útil para efetuar testes e para otimizar a comunicação entre processos num mesmo computador.

7.2.1.3 Exemplo de atribuição de endereços IP
Numa rede TCP/IP todas os hosts pertencentes a uma mesma rede devem possuir o mesmo identificador de rede. Para que estações com identificadores de redes distintos possam se conectar é preciso interligá-las através de um roteador.
TERMOS
* identificador da rede: identifica uma rede conectada à internet. Todos os hosts conectados a uma dada rede possuem o mesmo identificador de rede, o que permite aos roteadores localizar rapidamente a rede a qual pertence uma estação (host).
* identificador do host: identifica uma única estação (host) dentro da rede. Dentro de uma mesma rede não podem haver duas estações com o mesmo identificador de host.
* host: termo utilizado para designar uma estação conectada a uma internet. O host representa genericamente qualquer computador da rede.
* notação decimal pontuada: nesta notação, os 32 bits são agrupados em 4 bytes. Cada byte é convertido para sua representação decimal equivalente, formando um endereço composto por quatro números separados por pontos. Exemplo:

7.2.2 DATAGRAMA IP
Conceito: Denominação dada à unidade de dados do protocolo de rede IP. Na arquitetura TCP/IP o fluxo de dados é transmitido em unidades de dados denominadas datagrama. Um datagrama consiste basicamente em duas partes: um cabeçalho de controle e um campo de dados.
Encapsulamento: Os datagramas são transportados no campo de dados do quadros da camada de enlace de dados, num processo conhecido como encapsulamento.

7.2.2.1 Fragmentação e Remontagem de Datagramas
O tamanho máximo permitido para os quadros pode ser inferior ao tamanho máximo de um datagrama. Por exemplo, as redes Ethernet limitam o tamanho dos quadros a apenas 1500 bytes, enquanto os datagramas IP podem chegar até 64 K bytes. Nesse caso, é necessário transmitir um datragrama utilizando vários quadros. Neste processo, o campo de dados é dividido em vários fragmentos, cada um suficientemente pequeno para caber num quadro. Cada fragmento é transportado através da rede TCP/IP como se fosse um datagrama independente. O processo de fragmentação é efetuado pelas estações transmissoras e pelos roteadores que transportam os datagramas. Como os roteadores interligam redes de tecnologias diferentes, sempre que necessário, eles fragmentam ainda mais o datagrama para adaptá-lo a rede de destino. No destino final, a estação receptora reagrupa os fragmentos reconstruindo o datagrama original.

7.2.2.2 Formato de um Datagrama IP
. VERS: Idenfica a versão do procotocolo IP utilizada para criar o datagrama. A versão atual é 4.
. HLEN: Os 4 bits desse campo determinam o comprimento do cabeçalho do datagrama em múltiplos de palavras de 32 bits. O comprimento do cabeçalho é variável pois os campos "Opções IP" e "Preenchimento" não tem tamanho fixo. O tamanho usual do cabeçalho é de 20 bytes, quando os campos "Opções IP" e "Preenchimento" são nulos. Nesse caso, o campo HLEN apresenta comprimento igual a 5 (5 X 32 bits = 20 bytes).
. Tipo de serviço: contém informações que descrevem a importância do datagrama (através de 8 níveis de prioridade) e a qualidade esperada para o serviço de entrega. A qualidade do serviço é descrita por 3 bits denominados D, T e R. O bit D=1 solicita um baixo atraso, o bit T=1 solicita uma alta taxa de transmissão e o bit R=1 solicita uma transmissão altamente confiável. As informações desse campo são geralmente ignoradas pelos roteadores que transportam o datagrama.
. Comprimento total: informa o comprimento total do datagrama, incluindo o cabeçalho e o campo de dados, em bytes. Como esse campo possui 16 bits, o tamanho máximo de um datagrama é 216 ou 64 Kbytes.
. Identificação: Contém um número inteiro que identifica o datagrama. Esse campo é utilizado no processo de fragmentação e remontagem de datagamas. Todos os fragmentos de um mesmo datagrama contém o mesmo número de identificação. Dessa forma, o receptor consegue identificar facilmente os fragmentos que precisam ser reagrupados para remontar o datagrama original.
. Flags: Campo composto pelos bits DF (don´t fragment) e MF (more fragments). A estação transmissora assinala DF=1 para indicar que o datagrama não deve ser fragmentado. Nesse caso, se um roteador precisar fragmentar o datagrama para adequá-lo a rede de destino, o datagrama é descartado. O bit MF=1 é utilizado para indicar que o fragmento é o último pedaço do datagrama original. Quando uma estação recebe um fragmento com MF=0, ela sabe que deve esperar a chegada de mais fragmentos para completar a remontagem do datagrama.
. Deslocamento do Fragmento: Esse campo contém a posição relativa do fragmento em relação ao datagrama original, medido em bytes. Os fragmentos de um datagrama não chegam no receptor necessariamente na mesma ordem em que foram transmitidos. Utilizando a informação do campo de Deslocamento, a estação receptora consegue reordenar os fragmentos recebidos, e remontar o datagrama original.
. Tempo de vida: (TTL - Time to Live). Indica o tempo em segundos que o datagrama pode permanecer na rede internet. Quando uma estação transmite um datagrama, ela assinala o valor do TTL. Toda vez que o datagrama é processado por um roteador, o TTL é decrementado. Quando o TTL expira, o datagrama é descartado, mesmo que o destino final não tenha sido atingido.
. Protocolo: O campo protocolo contém um código que especifica o tipo de protocolo de transporte encapsulado no campo de dados do datagrama (geralmente TCP ou UDP).
. Checksum do cabeçalho: Este campo contém o checksum de todos os bytes que compõe o cabeçalho de controle, excluindo apenas o próprio campo de checksum. Este campo é utilizado pela estação receptora para verificar a integridade do cabeçalho de controle do datagrama recebido.
. Endereço IP de origem: contém o endereço IP que identifica a estação transmissora.
. Endereço IP de destino: contém o endereço IP que identifica a estação de destino. Esse campo reflete sempre o destino final, não importando se o datagrama passará ou não por roteadores intermediários.
. Opções IP: Campo com tamanho variável de 0 até vários bytes. Esse campo pode conter uma série de códigos em seqüência, cada um deles definido uma opção relativa ao processamento dos datagramas. As opções são geralmente relacionadas a aspectos como segurança, roteamento, relatórios de erro, depuração, etc.
. Preenchimento: Esse campo completa a seqüência do campo "Opções" com bits de preenchimento de valor "0", garantindo que o tamanho total dos campos "Opções + Preenchimento" seja múltiplo de 32 bits.
. Dados: contém os dados transportados pelo datagrama. Os dados transportados correspondem geralmente a unidade de dados do procotolo de transporte TCP ou UDP.

7.2.3 MAPEAMENTO DE ENDEREÇOS
Conceito: Denominação dada ao processo de associar um endereço IP ao endereço físico de uma interface de rede. Para poder transmitir um datagrama, a estação transmissora precisa conhecer todos as informações de endereçamento relacionadas ao destinatário, tanto ao nível da camada de rede (endereço IP) quanto ao nível da camada de enlace de dados (endereço físico). Na arquitetura TCP/IP, todas as referências aos endereços das estações são feitas através de endereços IP. O endereço físico do destinatário é descoberto dinamicamente pelo transmissor antes de efetuar a comunicação, utilizando um protocolo auxiliar denominado ARP.
TERMOS
* endereço físico: corresponde geralmente ao endereço associado a interface de rede da estação ou roteador. Segundo a terminologia IEEE, o endereço físico é comumente referido como endereço MAC.
* ARP: (Address Resolution Protocol). Protocolo utilizado para que a estação transmissora descubra o endereço físico do destinatário.

7.2.4 Roteamento
Conceito: Operação que consiste em enviar os datagramas até seu destino final, passando se necessário por um ou mais roteadores intermediários. A arquitetura TCP/IP define os mecanismos para que os datagramas sejam entregues no seu destino final, independente dele estar situado na mesma rede do transmissor (comunicação intra-rede), ou numa rede externa interligada através de roteadores (comunicação inter-redes).
Comunicação intra-rede: Numa comunicação entre duas estações situadas na mesma rede, o transmissor envia o quadro diretamente ao destino final, preenchendo os campos do destinatário com o endereço físico e o endereço IP da estação receptora.
Comunicação inter-redes: Numa comunicação entre estações conectadas a redes diferentes, a comunicação é dividida em vários saltos. Cada salto representa uma comunicação entre um par estação roteador ou roteador-roteador ligados fisicamente. Os endereços IP de origem e de destino se mantêm os mesmos durante todos os saltos do datagrama. O endereço físico, entretanto, é modificado para endereçar os elementos participantes de cada salto.
* roteador: cada porta do roteador possui um endereço IP distinto, pertencente a mesma rede que interconecta.

7.2.4.1 Tabelas de Roteamento
O processo de roteamento envolve uma série de decisões tomadas tanto pelas estações quanto pelos roteadores. Por exemplo, uma estação precisa determinar se o datagrama a ser transmitido deve ser endereçado diretamente ao destinatário ou a um roteador intermediário. Ao receber um datagrama, os roteadores também precisam determinar se devem retransmití-lo a outro roteador ou diretamente à estação de destino. O processo de decisão quanto ao roteamento é baseado em tabelas armazenadas localmente pelas estações e pelos roteados denominadas "tabelas de roteamento IP".
* Endereço de rede: parte do endereço IP do destinatário correspondente ao identificador da rede. Cada entrada da tabela de roteamento indica qual ação deve ser tomada em função da rede que pertence o destinatário. Se a rede do destinatário não for encontrada em nenhuma entrada da tabela de roteamento, o datagrama é enviado para o gateway default (geralmente, o roteador que interliga a rede a internet).
* Endereço de gateway: O endereço de gateway não é usado diretamente na formatação do datagrama. Ele é utilizado pelo transmissor para descobrir o endereço físico do destinatário, através do protocolo ARP. Se o destinatário pertencer a uma rede distinta do transmissor, então o endereço de gateway corresponde a uma porta do roteador que irá encaminhar o datagrama. Se o transmissor e o receptor estiverem na mesma rede, então o endereço de gateway é o próprio endereço do destinatário.
* Custo: medida relativa do custo de utilização da rota. A informação de custo é utilizada pelo roteador quando existir mais de uma rota para o mesmo destino.

7.3. CAMADA DE TRANSPORTE
Conceito: Os protocolos de transporte são capazes de manipular múltiplos endereços numa mesma estação, permitindo que várias aplicações executadas no mesmo computador possam enviar e receber datagramas independentemente. Dependendo do tipo de serviço de comunicação utilizado, as funções da camada de transmissão podem ser executadas pelos protocolos TCP ou UDP. O protocolo TCP (Transmission Control Protocol) oferece serviços de comunicação confiáveis e orientados a conexão. O protocolo UDP (User Datagram Protocol) oferece serviços do tipo datagrama, isto é, não orientados a conexão.

7.3.1 Protocolo TCP
Conceito: Protocolo da camada de transporte que oferece um serviço de comunicação confiável e orientado a conexão sobre a camada de rede IP. O Protocolo TCP (Transmission Control Protocol) é um protocolo orientado a conexão destinado a construir comunicações ponto a ponto confiáveis. Trata de questões relacionadas com: endereçamento por portas; comunicação confiável; controle de seqüenciação; segmentos TCP.

7.3.1.1. Endereçamento por portas: 
O protocolo TCP utiliza um nível de endereçamento complementar aos endereços IP, que permite distinguir vários endereços de transporte numa mesma estação. Os endereços de transporte são números inteiros de 16 bits denominados portas.

7.3.1.2. Comunicação confiável:
O protocolo TCP oferece um serviço de comunicação confiável utilizando uma técnica conhecida como “confirmação positiva com retransmissão”. Nesse método, o receptor precisa confirmar o recebimento dos dados através de uma mensagem de confirmação (ACK). O transmissor espera a confirmação de cada mensagem transmitida antes de enviar uma nova mensagem. Se a confirmação demorar mais do que um tempo pré-estabelecido, o transmissor retransmite a mensagem.

7.3.1.3. Controle de Seqüenciação:
O protocolo TCP oferece um serviço de comunicação orientado a conexão, que garante que as mensagens serão recebidas na mesma seqüência em que foram transmitidas. Esta característica permite fragmentar as mensagens muito grandes em porções menores de maneira a compatibilizá-las com o tamanho máximo imposto aos datagramas IP. A mensagem original é reconstruída de maneira transparente pela camada de transporte do receptor.

7.3.1.4. Segmentos TCP
A unidade de dados do protocolo TCP é denominada segmento. Usualmente, cada segmento TCP é encapsulado no campo de dados de um único datagrama. Um segmento TCP é composto de duas partes: um cabeçalho de controle e um campo de dados. O formato do segmento é detalhado abaixo.
· Porta de Origem: identificador de 16 bits que identifica a porta que transmitiu o segmento.
· Porta de Destino: identificador de 16 bits que identifica a porta para onde o segmento será transmitido.
· Número de Seqüência: O protocolo TCP fragmenta mensagens muito longas e as transmite numa seqüência de segmentos. Este campo indica que porção da mensagem original está sendo transmitida no segmento corrente. Essa informação é utilizada pelo receptor para reordenar os segmentos que cheguem fora de ordem.
· Número de confirmação: Identifica o número do próximo byte que o receptor espera receber. Esta informação é enviada pelo receptor ao transmissor através das mensagens de confirmação de recebimento (ACK).
· HLEN: contém um número inteiro que determina o comprimento do cabeçalho do datagrama em múltiplos de palavras de 32 bits. O comprimento do cabeçalho é variável pois os campos "Opções " e "Preenchimento" não tem tamanho fixo.
· Reservado: campo reservado para uso futuro.
· Bits de código: Este campo identifica o tipo de mensagem transportada pelo segmento. Os segmentos podem transportar mensagens de vários tipos: confirmação (ACK), estabelecimento ou liberação de conexões, dados, etc.
· Janela de Recepção: TCP provê meios para que o receptor cadencie o fluxo de dados enviados pelo transmissor. Toda vez que o receptor confirma o recebimento de uma mensagem (enviando uma mensagem ACK para o transmissor), ele preenche o campo "Janela de Recepção" informando o número de bytes que ele é capaz de receber na próxima transmissão. O transmissor leva em consideração essa informação para determinar o tamanho do próximo segmento a ser enviado.
· Ponteiro de Urgência: Indica a posição (em bytes) em relação a seqüência de dados recebidos onde dados urgentes poderão ser encontrados. Este mecanismo é utilizado par que o transmissor possa enviar mensagens de alta prioridade ao receptor.
· Checksum: Este campo contém o checksum de todos os bytes que compõe o segmento TCP (cabeçalho de controle e dados). Este campo é utilizado pela estação receptora para verificar a integridade do segmento recebido.
· Opções: Campo opcional de tamanho variável, múltiplo de 32 bits. Este campo foi criado para que o protocolo TCP possa disponibilizar facilidades adicionais que não foram cobertas pelos campos padronizados do cabeçalho de controle.
· Dados: Contém os dados transportados pelo segmento TCP.

7.3.2 PROTOCOLO UDP
Conceito: Protocolo da camada de transporte que oferece um serviço de comunicação não orientado a conexão, construído sobre a camada de rede IP. O Protocolo UDP (User Datagram Protocol) é um protocolo não orientado a conexão que oferece serviços de comunicação bastante elementares. O protocolo é não confiável, isto é, não há garantia de entrega dos datagramas transportados. O protocolo também não garante que os datagramas cheguem na mesma ordem em que foram transmitidos. Sua principal função é permitir a distinção de múltiplos destinos numa mesma estação. Sendo não orientado a conexão, o protocolo UDP pode ser utilizado tanto em comunicações do tipo difusão (broadcast) quanto ponto a ponto.

7.3.2.1 Mensagem UDP
A unidade de dados do protocolo UDP é denominada user datagram, ou simplesmente mensagem UDP. Uma mensagem UDP é composta de duas partes: um cabeçalho de controle e um campo de dados. O formato da mensagem é detalhado abaixo.
·Porta de Origem: identificador de 16 bits que identifica o endereço, ao nível da camada de transporte, para o qual deve ser enviado uma eventual resposta à mensagem transmitida.
·Porta de Destino: identificador de 16 bits que identifica o endereço do destinatário da mensagem ao nível da camada de transporte.
·Comprimento da mensagem: corresponde ao comprimento total da mensagem UDP, em bytes, incluindo o cabeçalho e o campo de dados.
·Checksum: O preenchimento do campo checksum é opcional. A informação deste campo é usada pelo receptor para verificar a integridade dos dados recebidos. No caso de haver erro, o receptor descarta a mensagem.
·Dados: O campo de dados contém as informações a serem transmitidas. O comprimento máximo da mensagem UDP, incluindo o campo de dados e o cabeçalho é de 64 Kbytes.

7.4. CAMADA DE APLICAÇÃO
Conceito: Protocolos que disponibilizam serviços padronizados de comunicação, destinados a dar suporte ao desenvolvimento de aplicações para os usuários. As funções da camada de aplicação da arquitetura TCP/IP são executadas por um conjunto amplo de protocolos, que oferecem serviços de comunicação padronizados. Cada um desses protocolos agrupa funções das camadas sessão, apresentação e aplicação do modelo OSI. Os protocolos de aplicação disponibilizam serviços de comunicação de alto nível para que programadores implementem aplicativos que utilizam recursos da rede. Os protocolos de aplicação estão num processo de evolução contínua, sendo que novos protocolos estão sendo continuamente propostos aumentando a gama de serviços disponibilizados.

7.4.1 Protocolos do Nível de Aplicação
FTP: File Transfer Protocol. Protocolo que implementa serviços de transferência de arquivos de uma estação para outra (ponto a ponto) através de rede.
TELNET: Serviço de Terminal Remoto. Protocolo utilizado para permitir aos usuários controlarem estações remotas através da rede.
SMTP: Simple Mail Transfer Protocol. Protocolo utilizado para transferência de mensagens de correio eletrônico de uma estação para outra. Esse protocolo especifica como 2 sistemas de correio eletrônico interagem.
HTTP: Hypertext Tranfer Protocol. Protocolo utilizado para transferência de informações multimídia: texto, imagens, som, vídeo, etc.
SNMP: Simple Network Monitoring Protocol. Protocolo utilizado para monitorar o estado das estações, roteadores e outros dispositivos que compõe a rede.
NFS: Network File System. Protocolo desenvolvido pela "SUN Microsystems, Incorporated", que permite que as estações compartilhem recursos de armazenamento de arquivos através da rede.

7.4.2 Endereçamento
A rede Internet utiliza um modelo de endereçamento universal, baseado em endereços IP. Um endereço IP permite identificar qualquer computador (host) conectado a rede de maneira única e inconfundível. Essa informação é utilizada em todas as comunicações entre os computadores que se conectam a Internet. Uma vez que os endereços IP contém informações relativas a rede e ao host, sua atribuição está relacionada com a topologia física da Internet. A comunicação entre hosts com endereços IP com identificadores de rede diferentes precisa ser intermediada por um roteador. Hosts pertencentes a mesma rede se comunicam diretamente sem necessidade de roteamento. Para permitir a integração de redes pelo mundo todo, a atribuição de endereços IPs para os computadores ligados a Internet deve seguir uma política global, pois os endereços não podem ser duplicados ou desperdiçados.

7.4.3 Endereços na Internet
Conceito: a atribuição de endereços IP para os computadores que se conectam a Internet é coordenada por autoridades de abrangência mundial, de maneira a evitar a duplicação e a má distribuição de endereços. A distribuição de endereços IP para computadores que se conectam a Internet mundial é feita de acordo com políticas definidas na RFC 2050. A implementação dessa política é de responsabilidade da IANA. A IANA implementa a política de distribuição de endereços IP com o auxílio de diversas entidades denominadas "autoridades de registro na Internet". A IANA distribui blocos do espaço total de endereços IP para autoridades regionais. Cada autoridade regional possui uma abrangência continental. Para facilitar a administração dos endereços IP, as autoridades regionais delegam a tarefa de alocação dos endereços IP para autoridades locais, que possuem geralmente abrangência nacional.
Termos:
* RNP: No Brasil, a autoridade de registro na Internet é a RNP (Rede Nacional de Pesquisa). A RNP delega a responsabilidade de alocação de endereços IP a FAPESP (Fundação de Amparo à Pesquisa do Estado de São Paulo). Deve-se observar que a RNP é apenas um dos provedores de " backbone" que possibilitam o acesso a Internet no Brasil. De fato, todos os grandes provedores de " backbone" possuem blocos de números reservados a seus clientes. Por isso, não se faz necessário uma solicitação especifica à FAPESP.
* RFC 2050: Request for Comment number 2050. Documento elaborado por um grupo de trabalho IETF (The Internet Engineering Task Force) e aprovada pelo IESG (Internet Engineering Steering Group). Esse documento contém as diretivas para alocação de endereços IP para Internet.
* IANA (The Internet Assigned Numbers Authority). Organização que possui a responsabilidade de coordenar a distribuição de endereços IP pelo mundo.
* APNIC (Asia-Pacific Network Information Center). Autoridade responsável por alocar endereços IPs para as redes da Ásia e Pacífico.
* ARIN (American Registry for Internet Numbers) Autoridade responsável por alocar endereços IPs para a América do Norte, América do Sul, Caribe e regiões da África SubSaariana.
* RIPE NCC (Reseau IP Europeens) Autoridade responsável por alocar endereços IPs para as redes da Europa.

7.4.4 Conexão de Intranets com a Internet
Conceito: as Intranets podem ser conectadas a rede pública Internet, permitindo que os usuários de uma rede privada troquem informações com o mundo exterior. É muito comum que numa mesma rede corporativa convivam aplicações que envolvam apenas comunicações internas juntamente com aplicações que envolvam a comunicação com o mundo exterior. Como conseqüência, certos hosts (clientes ou servidores) da rede são acessíveis apenas internamente e outros são acessíveis tanto internamente quanto externamente. A distinção do grau de conectividade com o mundo externo é importante, pois a alocação dos endereços IP dos hosts com conexão externa deve obedecer as regras impostas pelas autoridades que coordenam a Internet. As regras para atribuições de endereços IPs com diferentes graus de conectividade com o mundo externo são definidas pela RFC 1918. Esse documento classifica os hosts em três categorias, de acordo com o grau de conectividade com o mundo externo:
Termos:
* RFC 1918: Request for Comment number 1918. Documento elaborado por um grupo de trabalho IETF (The Internet Engineering Task Force) e aprovada pelo IESG (Internet Engineering Steering Group). Esse documento contém as diretivas para alocação de endereços IP em Intranets.

7.4.4.1 Hosts Categoria 1
Conceito: Hosts que se comunicam apenas internamente. Os hosts que se comunicam apenas no interior da rede comporativa e não tem acesso a redes externas ou a Internet são classificados como "Categoria 1". Cada hosts dessa categoria precisa de um endereço IP que seja único na empresa, mas que pode ser duplicado entre empresas diferentes. Numa rede Intranet sem conexão com a Internet, todos os hosts pertencem a categoria 1.
Termos:
* servidor: Computador responsável por armazenar informações e disponibilizar serviços de comunicação para os clientes. Os serviços disponibilizados pelo servidor correspondem àqueles definidos pelos protocolos de aplicação da arquitetura TCP/IP, como por exemplo, FTP (transferência de arquivos), SMTP (correio eletrônico), etc. Para ser funcional, uma rede Intranet precisa de pelo menos um servidor, podendo, se necessário, haver mais de um servidor na mesma rede. A rede Internet é constituída por uma infinidade de servidores.

7.4.4.2 Hosts Categoria 2
Conceito: Hosts que se comunicam indiretamente com o mundo externo. Muitas redes corporativas necessitam disponibilizar o acesso a Internet para seus funcionários, mas sem comprometer a segurança da sua rede corporativa interna. Para permitir que clientes acessem o mundo externo sem conectá-los diretamente a Internet, utiliza-se usualmente um dispositivo denominado servidor proxy. Os hosts que se comunicam com o mundo externo através de dispositivos intermediários como os servidores proxies são classificados na categoria 2. As regras para atribuição de endereços IP aos hosts da categoria 2 são idênticas as regras da categoria 1. Apenas o servidor proxy necessita de um endereço IP registrado pelas autoridades que coordenam a Internet. Na figura 57, tem-se um exemplo de uma rede Intranet interligada a Internet através de um servidor proxy. Nessa rede, os hosts estão na categoria 2
Termos:
* servidor proxy: Dispositivo responsável por intermediar a conexão entre os hosts internos e o mundo externo. O servidor proxy (procurador) é geralmente implementado através de um computador com duas interfaces de rede, uma conectada a rede interna e a outra a rede externa. Quando um cliente necessita acessar informações de um servidor externo, ele efetua o pedido ao servidor proxy. O servidor proxy, por sua vez, contata o servidor externo e retorna o resultado ao cliente. Nesse procedimento, o único computador da rede exposto ao mundo externo é o servidor proxy.
* acesso a Internet: O termo "acesso a Internet" implica que um host tem acesso a pelo menos um tipo de serviço de comunicação padronizado, por exemplo trocar mensagens de correio eletrônico, com o mundo exterior.

7.4.4.3 Hosts Categoria 3:
Conceito: Hosts que se comunicam diretamente com o mundo externo. Os hosts são classificados na categoria 3 quando eles estão diretamente integrados a rede Internet. Os endereços IP de cada hosts pertencentes a essa categoria devem ser únicos em toda a rede Internet. Para que cada host que uma empresa precisa conectar na categoria 3, ela precisa conseguir um endereços IP junto as autoridades que coordenam a distribuição de endereços IP na Internet.

7.4.5 Configuração Dinâmica de Endereços IP
Conceito: Mecanismo que permite atribuir automaticamente um endereço IP para uma host, assim que essa é inicializada ou conectada a rede Internet. A atribuição de endereços IP numa rede TCP/IP de grande porte pode ser uma tarefa bastante complexa. O administrador da rede deve certificar-se que cada host receba um endereço IP único entre todas as máquinas da rede. A configuração manual de endereços IP, além de ser trabalhosa, pode levar a duplicação indesejável de endereços. Em redes de grande porte, determinar a localização física de duas máquinas apresentando conflito de endereços IP pode ser uma tarefa bastante difícil. Para auxiliar a resolver este problema, grupos de trabalho IETF (Internet Engineering Task Force) padronizaram um serviço que auxilia a configuração automática de endereços IP, denominado DHCP (Dynamic Host Configuration Protocol). O DHCP foi padronizado pelas RFCs 1533, 1534, 1541 e 1542.

7.4.5.1 Funcionamento do DHCP
O serviço de DHCP funciona segundo a arquitetura cliente-servidor. Nessa arquitetura, uma máquina denominada "servidor de DHCP" é responsável por atribuir endereços IPs para as demais máquinas, denominadas "clientes DHCP". A atribuição do endereço IP é feita no momento que o computador cliente é ligado, ou mais especificamente, quando seu serviço de rede é iniciado. Deve-se observar que o servidor DHCP apenas "empresta" o endereço IP ao cliente. Cada cliente é responsável por renovar o seu empréstimo de tempos em tempos. Se o empréstimo não for renovado, o endereço IP é considerado livre e pode ser atribuído a outra máquina da rede. Esta característica permite reutilizar endereços IP quando um computador é desativado.
Termos:
* atribuir endereço IP: De fato, o serviço de DHCP não atribui apenas endereços IP. Outros parâmetros de configuração necessários a comunicação na arquitetura TCP/IP podem ser distribuídos aos clientes juntamente com o endereço IP. Geralmente, esses parâmetros correspondem a máscara de subrede, e o endereço IP do "gateway default", isto é, o roteador para onde são enviadas as mensagens que não possuem uma rota conhecida.
* servidor DHCP: corresponde a um computador qualquer da rede, escolhido para centralizar a distribuição de endereços IP. O servidor de DHCP é um computador comum, sobre o qual é instalado o software que executa o serviço de DHCP. O administrador da rede interage diretamente com o servidor de DHCP para configurar como os endereços IP deverão ser distribuídos.
* clientes DHCP: corresponde aos computadores que recebem os endereços IPs através do serviço de DHCP. Deve-se observar que o termo "cliente" refere-se unicamente ao serviço de DHCP. Um computador que funciona normalmente como servidor na rede TCP/IP (servidor de correio eletrônico, por exemplo) pode ser um cliente DHCP. Um cliente DHCP negocia o uso de um endereço IP através da troca de mensagens com o servidor. Após haver recebido um endereço IP pela primeira vez, o cliente sempre tenta manter o mesmo IP, solicitando periodicamente ao servidor a renovação do direito de usar o IP.
* depósito de endereços IP: corresponde a um conjunto pré determinado de endereços IP, que o servidor DHCP distribui para os clientes. Quando um cliente que solicita um endereço IP pela primeira vez, o servidor DHCP atribui o primeiro endereço IP do depósito que ainda não foi utilizado. O depósito de endereços IP é configurado diretamente no servidor de DHCP, pelo administrador da rede.

7.4.5.2 Uso do DHCP numa Intranet
O serviço de DHCP pode ser utilizado para simplificar significativamente o processo de configuração de endereços IP em Intranets corporativas. Dependendo da topologia física da rede, pode ser necessária a utilização de mais de um servidor de DHCP. Os clientes localizam o servidor de DHCP através de uma mensagem definida pelo protocolo DHCP, enviada em broadcast pela rede. Como as mensagens em broadcast não se propagam através dos roteadores, os clientes tendem a utilizar o servidor de DHCP que esteja localizado na mesma rede física.

7.4.5.3 Uso do DHCP por Provedores de Acesso a Internet
O serviço de DHCP é particularmente importante para os grandes provedores de acesso que permitem aos usuários acessarem a Internet através da rede pública de telefonia. Os provedores de acesso possuem um número limitado de endereços registrados junto às autoridades que controlam o acesso a Internet. Esses endereços são atribuídos pelo serviço de DHCP aos clientes assim que a conexão discada com o provedor é estabelecida. A alocação do endereço IP ao cliente é temporária. No momento em que o cliente interrompe sua conexão, o endereço IP passa a estar disponível para outro cliente.